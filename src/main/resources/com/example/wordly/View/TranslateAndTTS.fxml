<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ProgressIndicator?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.layout.*?>
<?import java.net.URL?>

<!-- Use BorderPane as the root for clear structure (left=nav, center=content) -->
<BorderPane prefHeight="600.0" prefWidth="1000.0" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.wordly.TTS.TranslateAndTTSController">

    <stylesheets>
        <!-- Stylesheet import moved to the top, still works fine -->
        <URL value="@../styles/home.css" />
    </stylesheets>

    <!-- Left Navigation Sidebar -->
    <left>
        <!-- Use VBox for vertical arrangement of navigation buttons -->
        <VBox prefWidth="170.0" spacing="10.0" style="-fx-background-color: #f0f0f0;" BorderPane.alignment="CENTER">
            <padding>
                <Insets top="10.0" right="10.0" bottom="10.0" left="10.0" />
            </padding>
            <children>
                <!-- Brand Label -->
                <Label text="WORDLY" style="-fx-font-size: 18px; -fx-font-weight: bold;">
                    <VBox.margin>
                        <Insets bottom="20.0" />
                    </VBox.margin>
                </Label>

                <!-- Navigation Buttons -->
                <Button maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#handleBackMain" prefHeight="40.0" text="Main" />
                <Button maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#handleGoToSearch" prefHeight="40.0" text="Search" />
                <Button maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#handleGoToFavourite" prefHeight="40.0" text="Favourite" />
                <Button maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#handleGoToHistory" prefHeight="40.0" text="History" textAlignment="CENTER" />
                <Button maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#handleGotoEdit" prefHeight="40.0" text="Edit New Word" textAlignment="CENTER" />
                <Button maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#handleGotoGame" prefHeight="40.0" text="Game" />

                <!-- Current View Indicator (Button disabled or styled differently) -->
                <!-- Removed the self-referential button. If needed, you could add a Label -->
                <Label text="Translate &amp; TTS" textAlignment="CENTER" wrapText="true" style="-fx-font-weight: bold; -fx-background-color: #d0d0d0; -fx-padding: 10px;" VBox.vgrow="NEVER">
                    <VBox.margin>
                        <Insets top="20.0"/> <!-- Add some space above it -->
                    </VBox.margin>
                </Label>
                <Region VBox.vgrow="ALWAYS"/> <!-- Pushes content up if VBox grows -->

            </children>
        </VBox>
    </left>

    <!-- Center Content Area -->
    <center>
        <!-- Use GridPane for flexible layout of text areas and buttons -->
        <GridPane hgap="15.0" vgap="10.0" BorderPane.alignment="CENTER">
            <padding>
                <Insets top="20.0" right="20.0" bottom="20.0" left="20.0" />
            </padding>
            <columnConstraints>
                <!-- Column for original text (takes available width) -->
                <ColumnConstraints hgrow="ALWAYS" minWidth="200.0" percentWidth="45.0" />
                <!-- Column for the translation button (fixed or preferred width) -->
                <ColumnConstraints hgrow="NEVER" halignment="CENTER"/>
                <!-- Column for translated text (takes available width) -->
                <ColumnConstraints hgrow="ALWAYS" minWidth="200.0" percentWidth="45.0" />
            </columnConstraints>
            <rowConstraints>
                <!-- Row for labels -->
                <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="NEVER" />
                <!-- Row for TextAreas (takes available height) -->
                <RowConstraints minHeight="200.0" prefHeight="400.0" vgrow="ALWAYS" />
                <!-- Row for Speak buttons -->
                <RowConstraints minHeight="10.0" prefHeight="40.0" vgrow="NEVER" />
            </rowConstraints>
            <children>
                <!-- Labels -->
                <Label text="Original Passage" GridPane.columnIndex="0" GridPane.rowIndex="0" GridPane.halignment="CENTER"/>
                <Label text="Translated Passage" GridPane.columnIndex="2" GridPane.rowIndex="0" GridPane.halignment="CENTER"/>

                <!-- Text Areas -->
                <TextArea fx:id="needToTrans" prefHeight="226.0" prefWidth="358.0" promptText="Write or paste text here..." wrapText="true" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                <TextArea fx:id="translated" editable="false" prefHeight="226.0" prefWidth="367.0" promptText="Translation will appear here..." wrapText="true" GridPane.columnIndex="2" GridPane.rowIndex="1" />

                <!-- Control Buttons (Translate and Speak) in a VBox for middle column alignment -->
                <VBox alignment="CENTER" spacing="10.0" GridPane.columnIndex="1" GridPane.rowIndex="1" GridPane.valignment="CENTER">
                    <children>
                        <Button fx:id="transButton" mnemonicParsing="false" onAction="#handleTranslating" text="Translate >>" />
                        <!-- Optional Progress Indicator - Link fx:id if you add one to the controller -->
                        <!-- <ProgressIndicator fx:id="translationProgress" visible="false" prefWidth="30" prefHeight="30"/> -->
                    </children>
                </VBox>


                <!-- Speak Buttons -->
                <!-- Link onAction handlers -->
                <Button fx:id="speak1Button" mnemonicParsing="false" onAction="#handleSpeakOriginal" text="Speak Original" GridPane.columnIndex="0" GridPane.rowIndex="2" GridPane.halignment="LEFT"/>
                <Button fx:id="speak2Button" mnemonicParsing="false" onAction="#handleSpeakTranslated" text="Speak Translation" GridPane.columnIndex="2" GridPane.rowIndex="2" GridPane.halignment="LEFT"/>

            </children>
        </GridPane>
    </center>
</BorderPane>